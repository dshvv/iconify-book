# 第 1 章 图标组件

图标组件是用来负责渲染图标的，我们支持以下几种框架：  
[[toc]]  
除了流行框架的图标组件外，Iconify 还有自己通用的 SVG 框架。

## SVG 框架

这种一般是用在没有如 vue、react 框架支撑的项目中，当然有框架的也可以这么用

### 使用

1、直接引入  
在页面引入该 lib 库：

```html
<script src="https://code.iconify.design/2/2.0.4/iconify.min.js"></script>
```

图标使用代码如下：

```html
<span class="iconify-inline" data-icon="fa-solid:home"></span>
```

如果要更换图标，只需要修改`data-icon`属性即可，如改为`fa-regular:home`。  
点击[图标集合](https://icon-sets.iconify.design/)，查看支持的所有的图标。

2、模块化支持  
除直接引入简单写法外，你还可在 webpack、rollup 等支持项目中，使用模块化的方案将其引入。  
安装和导入

```shell
yarn add @iconify/iconify
```

```javascript
import Iconify from "@iconify/iconify";
```

3、离线支持  
以上用法都会使用`iconify api`，即需要联网支持。  
但是网络并不是 100%可靠，所以我们也支持[离线使用](https://docs.iconify.design/icon-components/svg-framework/without-api.html)。  
Iconify SVG 框架提供了没有 API 支持的 lib 包:

```html
<script src="https://code.iconify.design/2/2.0.4/iconify.without-api.min.js"></script>
```

如果您使用的是 NPM 包@iconify/iconify，请导入对应文件：

```javascript
import Iconify from "@iconify/iconify/dist/iconify.without-api.min.js";
```

需要注意的是，如果你选择了禁用 API 能力的包时，需要确保将使用的图标的 json 数据提供给 SVG 框架。如果你想提前了解，可以看下有以下办法：  
手动添加图标

```html
<body>
  <span class="iconify" data-icon="@dshvv:demo:myhome"></span>
  <span class="iconify" data-icon="custom:home"></span>
  <span class="iconify" data-icon="custom:account"></span>
  <script src="./lib/iconify.without-api.min.js"></script>
  <script>
    // 单个添加
    Iconify.addIcon("@dshvv:demo:myhome", {
      // name的规则是[@提供者:icon前缀:icon名] 其中提供者可以省略
      body: '<path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" fill="currentColor"/>',
    });

    // 批量添加
    Iconify.addCollection({
      prefix: "custom",
      icons: {
        home: {
          body: '<path d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z" fill="currentColor"/>',
        },
        account: {
          body: '<path d="M12 4a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z" fill="currentColor"/>',
        },
      },
      width: 24,
      height: 24,
    });
  </script>
</body>
```

### 样式

1、修改颜色

```html
<span
  class="iconify-inline"
  data-icon="fa-solid:home"
  style=" color: red;"
></span>
```

官方文档更详细，点击[这里](https://docs.iconify.design/icon-components/svg-framework/color.html)查看。

2、尺寸

```html
<span
  class="iconify-inline"
  data-icon="fa-solid:home"
  style="font-size: 24px;"
></span>
```

官方文档更详细，点击[这里](https://docs.iconify.design/icon-components/svg-framework/dimensions.html)查看。

3、旋转  
有两种方式可以做到旋转

```html
<!-- svg内部转换，高度还是默认1em(16)，但是宽度变成了14px，即14x16。可能会变小。 -->
<span
  class="iconify-inline"
  data-icon="fa-solid:home"
  data-rotate="90deg"
></span>
<!-- css整体旋转，18*16变成了16x18。 可能会与周围的元素重叠。 -->
<span
  class="iconify-inline"
  data-icon="fa-solid:home"
  style="transform: rotate(90deg);"
></span>
```

官方文档更详细，点击[这里](https://docs.iconify.design/icon-components/svg-framework/transform.html)查看。

4、对齐  
block 是居中对齐，inline 是基线对齐。其实这个 font 是一样的。

```html
<head>
  <style>
    p {
      position: relative;
      font-size: 24px;
      line-height: 32px;
    }

    p:after,
    p:before {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      border-bottom: 1px dotted #ccc;
    }

    p:before {
      top: 6px;
    }

    p:after {
      bottom: 7px;
    }
  </style>
</head>

<body>
  <p>
    Block:
    <span class="iconify" data-icon="line-md:image-twotone"></span>
    <span class="iconify" data-icon="mdi:account-box-outline"></span>
  </p>
  <p>
    Inline:
    <span class="iconify-inline" data-icon="line-md:image-twotone"></span>
    <span class="iconify-inline" data-icon="mdi:account-box-outline"></span>
  </p>

  <script src="./lib/iconify.min.js"></script>
</body>
```

![Inline 模式](/iconify-book/dist/images/1-1.png#w50)
官方文档更详细，点击[这里](https://docs.iconify.design/icon-components/svg-framework/inline.html)查看。

### 方法

使用`Iconify.xxx()`  
1、一般方法

```javascript
const IconifyV = Iconify.getVersion(); // 获取当前 Iconify 框架版本号
console.log(IconifyV); // 2.0.4
```

2、获取 icon

```javascript
iconExists(name); // 检查icon是否存在，返回布尔值.
listIcons(); // 列出可用icons, 返回 string[]，可用值指的是存储在localstorage里的icon.
getIcon(name); // 返回一个 icon data, 一般json格式.
```

3、添加 icon

```javascript
addIcon(); // 添加一个icon.
addCollection(); // 添加icon集.
```

需要注意，通过这种方式添加的 icon 并不会缓存到 localstorage 中，只有 Iconify api 的图标（即网络图标）才会被缓存。

4、渲染 icon  
用于生成 SVG 或者 icon data

```javascript
renderSVG(name, customisations?) // 返回 <svg> 元素.
renderHTML(name, customisations?) // 返回 <svg> 字符串.
renderIcon(name, customisations?) // 返回icon data
```

看一下返回值，大家就明白了，举个例子

```html
<span class="iconify-inline" data-icon="line-md:image-twotone"></span>
<script src="./lib/iconify.min.js"></script>
<script>
  console.log(Iconify.renderSVG("line-md:image-twotone"));
  console.log(Iconify.renderHTML("line-md:image-twotone"));
  console.log(Iconify.renderIcon("line-md:image-twotone"));
</script>
```
![渲染 icon](/iconify-book/dist/images/1-2.png#w80)
